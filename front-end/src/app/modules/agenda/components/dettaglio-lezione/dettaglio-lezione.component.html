<div *ngIf="lezione">
  <!-- Informazioni Principali -->
  <div class="info-section">
    <!-- Titolo con Badge -->
    <div class="title-section mb-2">
      <h3 class="lesson-title">{{ lezione.titolo }}</h3>
      <div class="badges-container">
        <span 
          class="status-badge" 
          [class.active]="lezione.attiva"
          [class.inactive]="!lezione.attiva"
        >
          {{ lezione.attiva ? 'Attiva' : 'Non Attiva' }}
        </span>
        <span 
          class="type-badge"
          [attr.data-tipo]="lezione.tipo"
        >
          {{ tipoLezioneLabel }}
        </span>
      </div>
    </div>
    
    <!-- Informazioni Base -->
    <div class="row mb-2">
      <div class="col-md-6">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-calendar-alt"></i> Programmazione</h5>
          <div class="info-item">
            <strong>Data e Ora:</strong> {{ dataOraFormatted }}
          </div>
          <div class="info-item">
            <strong>Durata:</strong> {{ durataFormatted }}
          </div>
          <div class="info-item">
            <strong>Fine lezione:</strong> {{ dataFineFormatted }}
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-users"></i> Partecipazione</h5>
          <div class="info-item">
            <strong>Istruttore:</strong> {{ istruttoreNome }}
          </div>
          <div class="info-item">
            <strong>Partecipanti:</strong> 
            <span class="participants" 
                  [class.full]="isCompleta"
                  [class.available]="!isCompleta">
              {{ lezione.partecipantiIscritti || 0 }} / {{ lezione.maxPartecipanti || 0 }}
            </span>
          </div>
          <div class="info-item">
            <strong>Posti disponibili:</strong> {{ postiDisponibili }}
          </div>
        </div>
      </div>
    </div>

    <!-- Informazioni Commerciali -->
    <div class="row mb-2">
      <div class="col-md-6">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-euro-sign"></i> Dettagli Commerciali</h5>
          <div class="info-item">
            <strong>Prezzo:</strong> â‚¬{{ lezione.prezzo | number:'1.2-2' }}
          </div>
          <div class="info-item">
            <strong>Tipo lezione:</strong> {{ tipoLezioneLabel }}
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-info-circle"></i> Stato</h5>
          <div class="info-item">
            <strong>Status:</strong> 
            <span class="status-badge" 
                  [class.active]="lezione.attiva"
                  [class.inactive]="!lezione.attiva">
              {{ lezione.attiva ? 'Attiva' : 'Non Attiva' }}
            </span>
          </div>
          <div class="info-item" *ngIf="isCompleta">
            <span class="full-badge">ðŸ”´ Lezione al Completo</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Descrizioni (se presenti) -->
    <div class="row mb-2" *ngIf="lezione.descrizione || lezione.note">
      <div class="col-md-6" *ngIf="lezione.descrizione">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-edit"></i> Descrizione</h5>
          <div class="info-item">
            {{ lezione.descrizione }}
          </div>
        </div>
      </div>
      <div class="col-md-6" *ngIf="lezione.note">
        <div class="info-card">
          <h5 class="info-card-title"><i class="fas fa-sticky-note"></i> Note</h5>
          <div class="info-item">
            {{ lezione.note }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Informazioni di Sistema -->
  <div class="row">
    <div class="col-12">
      <div class="info-card">
        <h5 class="info-card-title"><i class="fas fa-exclamation-triangle"></i> Informazioni Importanti</h5>
        <div class="alert" [class.alert-warning]="!canCancel" [class.alert-info]="canCancel">
          <span *ngIf="canCancel">
            <i class="fas fa-check-circle"></i> Cancellazione consentita (oltre 24 ore dall'inizio)
          </span>
          <span *ngIf="!canCancel">
            <i class="fas fa-exclamation-triangle"></i> Cancellazione non consentita (meno di 24 ore dall'inizio)
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <!-- <div class="action-buttons mt-4">
    <button 
      type="button" 
      class="btn btn-secondary me-2" 
      (click)="onClose()"
      [disabled]="isLoading"
    >
      Chiudi
    </button>

    <button 
      type="button" 
      class="btn btn-warning me-2" 
      (click)="onToggleStatus()"
      [disabled]="isLoading"
    >
      <span *ngIf="isLoading" class="spinner"></span>
      {{ lezione?.attiva ? 'Disattiva' : 'Attiva' }}
    </button>

    <button 
      type="button" 
      class="btn btn-primary me-2" 
      (click)="onEdit()"
      [disabled]="isLoading"
    >
      Modifica
    </button>

    <button 
      type="button" 
      class="btn btn-danger" 
      (click)="onDelete()"
      [disabled]="isLoading || !canCancel"
      [title]="!canCancel ? 'Impossibile eliminare: meno di 24 ore dall\'inizio' : ''"
    >
      <span *ngIf="isLoading" class="spinner"></span>
      Elimina
    </button>
  </div> -->
</div>

<div class="row">
  <div class="col-12 d-flex justify-content-center align-items-start">
    <div class="profile-header-box">
      <h1 class="profile-title">Email & Password</h1>
      <p class="profile-subtitle">Crea il tuo account</p>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-12 d-flex flex-column align-items-center mt-1">
    <form
      [formGroup]="emailForm"
      (ngSubmit)="onSubmit()"
      novalidate
      style="width: 100%; max-width: 450px"
    >
      <div class="mb-4">
        <label class="form-label"
          >Nome utente <span class="text-danger">*</span></label
        >
        <input
          type="text"
          class="form-control"
          formControlName="username"
          placeholder="Giovanni"
        />
      </div>
      <div class="mb-4">
        <label class="form-label"
          >Email <span class="text-danger">*</span></label
        >
        <input
          type="email"
          class="form-control"
          formControlName="email"
          placeholder="latuaemail@gmail.com"
        />
      </div>
      <div class="mb-4">
        <label class="form-label"
          >Password <span class="text-danger">*</span></label
        >
        <div class="password-input-container">
          <input
            [type]="showPassword ? 'text' : 'password'"
            class="form-control password-input"
            formControlName="password"
            placeholder="********"
          />
          <button
            type="button"
            class="password-toggle-btn"
            (click)="showPassword = !showPassword"
            tabindex="-1"
          >
            <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
          </button>
        </div>
      </div>
      <div class="mb-4">
        <label class="form-label"
          >Conferma Password <span class="text-danger">*</span></label
        >
        <div class="password-input-container">
          <input
            [type]="showConfirm ? 'text' : 'password'"
            class="form-control password-input"
            formControlName="confirmPassword"
            placeholder="********"
          />
          <button
            type="button"
            class="password-toggle-btn"
            (click)="showConfirm = !showConfirm"
            tabindex="-1"
          >
            <i [class]="showConfirm ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
          </button>
        </div>
      </div>
      <div class="mb-4">
        <button
          type="submit"
          class="btn btn-dark w-100"
          style="font-size: 0.9rem"
          [disabled]="isSubmitting || emailForm.invalid"
        >
          <span
            *ngIf="isSubmitting"
            class="spinner-border spinner-border-sm me-2"
            role="status"
            aria-hidden="true"
          ></span>
          {{ isSubmitting ? 'Completamento...' : 'Completa il tuo profilo' }}
        </button>
      </div>
      <div class="mb-4">
        <button
          type="button"
          class="btn btn-outline-dark w-100"
          style="font-size: 0.9rem"
          [disabled]="isSubmitting"
          (click)="indietro.emit()"
        >
          Indietro
        </button>
      </div>
    </form>
  </div>
</div>
